# Environment Configuration Template
# Copy this content to a .env file and update with your values

# RabbitMQ Configuration
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_MGMT_PORT=15672
RABBITMQ_USER=admin
RABBITMQ_PASSWORD=admin
RABBITMQ_VHOST=/

# IPFS Configuration
IPFS_HOST=ipfs
IPFS_PORT=5001
IPFS_SWARM_PORT=4001
IPFS_GATEWAY_PORT=8080
IPFS_PROTOCOL=http

# Encryption Key Configuration
# Provide encryption key via ENCRYPTION_KEY environment variable
# Must be a Base64-encoded 32-byte key
#
# Generate a key with:
#   python -c "import base64, os; print(base64.b64encode(os.urandom(32)).decode())"
#
# IMPORTANT: Set this value in your .env file!
ENCRYPTION_KEY=

# Blockchain Service Configuration
BLOCKCHAIN_SERVICE_URL=http://blockchain-service:8080
BLOCKCHAIN_SERVICE_PORT=8080

# Hyperledger Fabric Configuration (used by blockchain-service)
FABRIC_NETWORK_PROFILE=network.json
FABRIC_CHANNEL_NAME=mychannel
FABRIC_CHAINCODE_NAME=model_provenance

# Application Configuration
LOG_LEVEL=INFO
ENVIRONMENT=development

# API Configuration
API_KEY=your-secret-api-key-here  # API key for main service authentication

# Training Configuration
TARGET_ACCURACY=95.0          # Target accuracy to achieve
MAX_ITERATIONS=100            # Maximum training iterations
MAX_ROLLBACKS=5               # Maximum rollbacks before stopping
CONVERGENCE_PATIENCE=10       # Iterations without improvement before convergence
ACCURACY_TOLERANCE=0.5        # Allowed accuracy drop (0.5%)
PATIENCE_THRESHOLD=3          # Consecutive bad iterations before rollback
SEVERE_DROP_THRESHOLD=2.0     # Immediate rollback threshold (2%)

# Client Configuration
NUM_CLIENTS=2                 # Number of client instances
EPOCHS=100                    # Epochs per training iteration
SPLIT_TYPE=iid                # Dataset split type (iid or non_iid)
DATASET_SEED=42               # Seed for dataset splitting

# Client Configuration
CLIENT_ID=client_0
CLIENT_DATASET_PATH=data/mnist/train/client_0.pt

# Main Service Configuration
TEST_DATASET_PATH=data/mnist/test/test.pt

